name: Deploy
on:
    workflow_dispatch:
        inputs:
            version:
                description: 'Version tag (e.g. v1.2.3)'
                required: true

jobs:
    build_frontend:
        name: build_frontend
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v6
            - run: echo Building Frontend

    build_backend:
        name: build_backend
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v6
            - run: echo Building Backend

    create_release:
        name: create_release
        needs: [build_frontend, build_backend]
        runs-on: ubuntu-latest
        permissions:
            contents: write
        steps:
            - uses: actions/checkout@v4
            - uses: softprops/action-gh-release@v2
              with:
                tag_name: ${{ inputs.version }}
                generate_release_notes: true
